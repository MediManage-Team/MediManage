<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<SplitPane dividerPositions="0.7"
    xmlns="http://javafx.com/javafx/17"
    xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.MediManage.UsersController">
    <!-- Left: Table -->
    <items>
        <VBox spacing="10" style="-fx-padding: 20;">
            <Label text="System Users" style="-fx-font-size: 20px; -fx-font-weight: bold;"/>
            <TableView fx:id="userTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colId" text="ID" prefWidth="50"/>
                    <TableColumn fx:id="colUsername" text="Username" prefWidth="200"/>
                    <TableColumn fx:id="colRole" text="Role" prefWidth="150"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
        </VBox>

        <!-- Right: Form -->
        <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: #f9f9f9;">
            <Label text="Manage User" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

            <VBox spacing="5">
                <Label text="Username"/>
                <TextField fx:id="txtUsername" promptText="Enter username"/>
            </VBox>

            <VBox spacing="5">
                <Label text="Password"/>
                <StackPane>
                    <PasswordField fx:id="txtPassword" promptText="Enter password"/>
                    <TextField fx:id="txtPasswordVisible" promptText="Enter password" visible="false"/>
                </StackPane>
                <CheckBox fx:id="chkShowPassword" text="Show Password"/>
            </VBox>

            <VBox spacing="5">
                <Label text="Role"/>
                <ComboBox fx:id="cmbRole" maxWidth="Infinity"/>
            </VBox>

            <Region VBox.vgrow="ALWAYS"/>

            <VBox spacing="10">
                <Button fx:id="btnSave" text="Save User" style="-fx-background-color: #3498db; -fx-text-fill: white;" maxWidth="Infinity" onAction="#handleSave"/>
                <HBox spacing="10">
                    <Button text="Clear" onAction="#handleClear" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
                    <Button fx:id="btnDelete" text="Delete" disable="true" style="-fx-background-color: #e74c3c; -fx-text-fill: white;" maxWidth="Infinity" HBox.hgrow="ALWAYS" onAction="#handleDelete"/>
                </HBox>
            </VBox>
        </VBox>
    </items>
</SplitPane>
